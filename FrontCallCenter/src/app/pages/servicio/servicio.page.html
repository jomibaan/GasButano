<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Pedido</ion-title>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-back-button text="Volver"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>


<ion-content [fullscreen]="true" mode="ios" class="ion-padding">

  <div class="container">
    <ion-grid fixed>
      <ion-row>
        <ion-col size="12" size-md="6">
          <div class="input-group">
            <ion-input type="text" placeholder="Buscar cliente por teléfono (ej: 4921234567)"
              class="form-control text-center" maxlength="10" [(ngModel)]="telefono">
            </ion-input>
            <ion-button (click)="getClienteByPhone(telefono)" class="btn-principal" [disabled]="!telefono || buscando">
              <ion-spinner *ngIf="buscando" slot="icon-only" name="crescent"></ion-spinner>
              <span *ngIf="!buscando">Buscar</span>
            </ion-button>
          </div>

          <ion-card *ngIf="clienteSeleccionado" class="info-card shadow-sm">
            <ion-card-header>
              <ion-card-title class="section-title">Datos del Cliente</ion-card-title>
            </ion-card-header>
            <ion-list lines="none" class="ion-no-padding">
              <ion-item class="data-display-item">
                <ion-icon slot="start" name="person-outline" color="primary"></ion-icon>
                <ion-label>Nombre Completo</ion-label>
                <p slot="end" class="fw-bold">{{ clienteSeleccionado.nombres }} {{ clienteSeleccionado.apellidos }}</p>
              </ion-item>

              <ion-item class="data-display-item">
                <ion-icon slot="start" name="call-outline" color="primary"></ion-icon>
                <ion-label>Teléfono</ion-label>
                <p slot="end">{{ clienteSeleccionado.telefono }}</p>
              </ion-item>
            </ion-list>

            <ion-card-content class="address-section">
              <h3 class="section-subtitle">Domicilio de Entrega</h3>

              <ion-select label="Seleccionar Domicilio" label-placement="floating" [(ngModel)]="domicilio"
                fill="outline" class="ion-margin-top">
                <ion-select-option *ngFor="let dom of clienteSeleccionado?.domicilios" [value]="dom.documentId">
                  {{ dom.calle }} #{{ dom.numero }}, <strong>{{ dom.colonia }}</strong>
                </ion-select-option>
                <!-- <ion-select-option [value]="'domicilio-' + i" *ngFor="let dom of cliente?.domicilios; let i = index">
                  {{ dom.calle }} #{{ dom.numero }}, <strong>{{ dom.colonia }}</strong>
                </ion-select-option> -->
              </ion-select>

              <ion-button expand="block" size="small" class="btn-principal ion-margin-top">
                <ion-icon slot="start" name="map-outline"></ion-icon>
                Añadir Nuevo Domicilio
              </ion-button>
            </ion-card-content>
          </ion-card>

          <ion-card *ngIf="!clienteSeleccionado && busquedaRealizada && !buscando" class="ion-padding-top text-danger">
            <ion-card-header>
              <ion-card-title class="section-title">No se encontraron resultados Agregue un Cliente</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <ion-item class="custom-input-item mb-3" lines="none">
                <ion-icon slot="start" name="person-outline"></ion-icon>
                <ion-input label="Nombres" label-placement="floating" type="text" name="nombres" [(ngModel)]="nombres"
                  required></ion-input>
              </ion-item>

              <ion-item class="custom-input-item mb-3" lines="none">
                <ion-icon slot="start" name="person-outline"></ion-icon>
                <ion-input label="Apellidos" label-placement="floating" type="text" name="apellidos"
                  [(ngModel)]="apellidos" required></ion-input>
              </ion-item>

              <ion-item class="custom-input-item mb-3" lines="none">
                <ion-icon slot="start" name="call-outline"></ion-icon>
                <ion-input label="Teléfono" label-placement="floating" type="tel" name="telefono" disabled
                  [(ngModel)]="telefono" maxlength="10" required></ion-input>
              </ion-item>

              <ion-grid fixed>
                <ion-row>
                  <ion-col size="6">
                    <ion-item class="custom-input-item mb-3" lines="none">
                      <ion-icon slot="start" name="home-outline"></ion-icon>
                      <ion-input label="Calle" label-placement="floating" type="text" name="calle" [(ngModel)]="calle"
                        required></ion-input>
                    </ion-item>
                  </ion-col>
                  <ion-col size="6">
                    <ion-item class="custom-input-item mb-3" lines="none">
                      <ion-icon slot="start" name="key-outline"></ion-icon>
                      <ion-input label="Número" label-placement="floating" type="text" name="numero"
                        [(ngModel)]="numero" required></ion-input>
                    </ion-item>
                  </ion-col>
                </ion-row>
              </ion-grid>


              <ion-grid fixed>
                <ion-row>
                  <ion-col size="6">
                    <ion-item class="custom-input-item mb-3" lines="none">
                      <ion-icon slot="start" name="map-outline"></ion-icon>
                      <ion-input label="Colonia" label-placement="floating" type="text" name="colonia"
                        [(ngModel)]="colonia" required></ion-input>
                    </ion-item>
                  </ion-col>
                  <ion-col size="6">
                    <ion-item class="custom-input-item mb-3" lines="none">
                      <ion-icon slot="start" name="pin-outline"></ion-icon>
                      <ion-input label="Código Postal" label-placement="floating" type="text" name="cp" [(ngModel)]="cp"
                        required></ion-input>
                    </ion-item>
                  </ion-col>
                </ion-row>
              </ion-grid>

              <ion-item class="custom-input-item mb-3" lines="none">
                <ion-icon slot="start" name="person-outline"></ion-icon>
                <ion-input label="Referencia" label-placement="floating" type="text" name="referencia"
                  [(ngModel)]="referencia" required></ion-input>
              </ion-item>

              <ion-button (click)="createCliente()" class="btn-principal" expand="block">
                Agregar Cliente
              </ion-button>
            </ion-card-content>


          </ion-card>



        </ion-col>
        <ion-col size="12" size-md="6">
          <ion-card *ngIf="clienteSeleccionado" class="order-form-card shadow-sm">
            <ion-card-content>
              <h3 class="section-subtitle">Tipo de Servicio</h3>
              <ion-select [(ngModel)]="tipo" label="Producto" label-placement="floating" fill="outline"
                class="ion-margin-bottom">
                <ion-select-option *ngFor="let servicio of tipo_servicio" [value]="servicio.id">
                  {{ servicio.nombre }}
                </ion-select-option>
              </ion-select>
              <h3 class="section-subtitle ion-margin-top">Notas</h3>
              <ion-item lines="none" class="ion-margin-top">
                <ion-textarea [(ngModel)]="nota" label="Notas (Opcional)" label-placement="floating"
                  rows="3"></ion-textarea>
              </ion-item>

              <h3 class="section-subtitle ion-margin-top">Observación</h3>
              <ion-item lines="none" class="ion-margin-top">
                <ion-textarea [(ngModel)]="observacion" label="Observación" label-placement="floating"
                  rows="3"></ion-textarea>
              </ion-item>

              <ion-button (click)="generarPedido()" expand="block" size="small" class="btn-principal ion-margin-top">
                <ion-icon slot="start" name="checkmark-circle-outline"></ion-icon>
                Generar Pedido
              </ion-button>

            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
  <hr class="hr">
  <div class="container">


    <!-- Para alinear un botón a la derecha dentro de <ion-content> -->
    <div class="ion-text-end">
      <ion-button fill="clear" shape="round" class="history-link-button" routerLink="/filters">
        <ion-icon slot="start" name="newspaper-outline"></ion-icon>
        Ver Historial de Pedidos
      </ion-button>
    </div>


    <div class="ion-padding">
      <ion-toolbar color="light" class="sticky-segment-toolbar">
        <ion-segment [(ngModel)]="segmentoActual" (ionChange)="segmentChanged()" value="pendientes">

          <ion-segment-button value="pendientes">
            <ion-label>Pendientes</ion-label>
            <ion-badge color="warning" class="segment-badge">{{ servicioRegistrado.length }}</ion-badge>
          </ion-segment-button>

          <ion-segment-button value="asignados">
            <ion-label>Asignados</ion-label>
            <ion-badge color="primary" class="segment-badge">{{ servicioAsignado.length }}</ion-badge>
          </ion-segment-button>
          <ion-segment-button value="cancelados">
            <ion-label>Cancelados</ion-label>
            <ion-badge color="danger" class="segment-badge">{{ servicioCancelado.length }}</ion-badge>
          </ion-segment-button>
          <ion-segment-button value="programados">
            <ion-label>Programados</ion-label>
            <ion-badge color="light" class="segment-badge">{{ servicioProgramado.length }}</ion-badge>
          </ion-segment-button>
          <ion-segment-button value="surtidos">
            <ion-label>Surtidos</ion-label>
            <ion-badge color="success" class="segment-badge">{{ servicioSurtido.length }}</ion-badge>
          </ion-segment-button>

        </ion-segment>
      </ion-toolbar>


      <ion-list lines="full" class="dense-list" [hidden]="segmentoActual !== 'pendientes'">
        <ion-list-header *ngIf="servicioRegistrado.length === 0" class="empty-list-header">
          <ion-label class="ion-text-center text-muted">No hay pedidos pendientes.</ion-label>
        </ion-list-header>

        <ion-item *ngFor="let servicio of servicioRegistrado" class="dense-item" button detail>

          <!-- Icono de Estado (Izquierda) -->
          <ion-icon slot="start" name="warning-outline" color="warning" class="dense-icon"></ion-icon>

          <!-- Información (Centro) -->
          <ion-label class="compact-label">
            <h3>
              {{ servicio.cliente?.nombres }} {{ servicio.cliente?.apellidos }}
              <ion-badge color="tertiary" class="compact-badge">{{ servicio.tipo_servicio?.nombre }}</ion-badge>
            </h3>
            <p class="address-line">
              {{ servicio.domicilio?.calle }} #{{ servicio.domicilio?.numero }}, {{ servicio.domicilio?.colonia }}
            </p>
            <p *ngIf="servicio.nota || servicio.observacion" class="note-line">
              Nota: {{ servicio.nota || servicio.observacion }}
            </p>
          </ion-label>

          <!-- Acción (Derecha) -->
          <div slot="end" class="compact-action-slot ">
            <ion-button (click)="confirmarCancelacion(servicio)" size="small" fill="outline" color="danger"
              class="compact-button">
              Cancelar
            </ion-button>
            <ion-button size="small" fill="outline" color="primary" class="compact-button"
              (click)="setOpenServicio(true, servicio)">
              Asignar Ruta
            </ion-button>
            <ion-button size="small" fill="outline" color="warning" class="compact-button"
              (click)="setOpenProgramar(true, servicio)">
              Programar
            </ion-button>
            <span class="compact-time">{{ servicio.createdAt | date:'shortTime' }}</span>
          </div>
        </ion-item>
      </ion-list>

      <!-- LISTA DE ASIGNADOS (Se muestra si segmentoActual == 'asignados') -->
      <ion-list lines="full" class="dense-list" [hidden]="segmentoActual !== 'asignados'">
        <ion-list-header *ngIf="servicioAsignado.length === 0" class="empty-list-header">
          <ion-label class="ion-text-center text-muted">No hay pedidos asignados.</ion-label>
        </ion-list-header>

        <ion-item *ngFor="let servicio of servicioAsignado" class="dense-item" button detail>

          <ion-icon slot="start" name="car-sport-outline" color="success" class="dense-icon"></ion-icon>

          <ion-label class="compact-label">
            <h3>
              {{ servicio.cliente?.nombres }} {{ servicio.cliente?.apellidos }}
            </h3>
            <p class="address-line">
              {{ servicio.domicilio?.calle }} #{{ servicio.domicilio?.numero }}
            </p>
            <p class="route-line">
              <ion-icon name="person-circle-outline"></ion-icon>
              Ruta: <strong class="text-dark">{{ servicio.ruta?.nombre || 'N/A' }}</strong>
            </p>
          </ion-label>

          <div slot="end" class="compact-action-slot">
            <span class="compact-time">{{ servicio.createdAt | date:'shortTime' }}</span>

            <ion-button (click)="confirmarCancelacion(servicio)" size="small" fill="outline" color="danger"
              class="compact-button">
              Cancelar
            </ion-button>
          </div>
        </ion-item>
      </ion-list>

      <ion-list lines="full" class="dense-list" [hidden]="segmentoActual !== 'cancelados'">
        <ion-list-header *ngIf="servicioCancelado.length === 0" class="empty-list-header">
          <ion-label class="ion-text-center text-muted">No hay pedidos Cancelados.</ion-label>
        </ion-list-header>

        <ion-item *ngFor="let servicio of servicioCancelado" class="dense-item" button detail>

          <!-- Icono de Estado (Izquierda) -->
          <ion-icon slot="start" name="warning-outline" color="warning" class="dense-icon"></ion-icon>

          <!-- Información (Centro) -->
          <ion-label class="compact-label">
            <h3>
              {{ servicio.cliente?.nombres }} {{ servicio.cliente?.apellidos }}
              <ion-badge color="tertiary" class="compact-badge">{{ servicio.tipo_servicio?.nombre }}</ion-badge>
            </h3>
            <p class="address-line">
              {{ servicio.domicilio?.calle }} #{{ servicio.domicilio?.numero }}, {{ servicio.domicilio?.colonia }}
            </p>
            <p *ngIf="servicio.nota || servicio.observacion" class="note-line">
              Nota: {{ servicio.nota || servicio.observacion }}
            </p>
          </ion-label>

          <!-- Acción (Derecha) -->
          <div slot="end" class="compact-action-slot ">
            <ion-button size="small" fill="outline" color="success" class="compact-button">
              Re-Asignar
            </ion-button>
            <span class="compact-time">{{ servicio.fecha_cancelado | date:'shortTime' }}</span>
          </div>
        </ion-item>
      </ion-list>


      <ion-list lines="full" class="dense-list" [hidden]="segmentoActual !== 'programados'">
        <ion-list-header *ngIf="servicioProgramado.length === 0" class="empty-list-header">
          <ion-label class="ion-text-center text-muted">No hay pedidos Programados.</ion-label>
        </ion-list-header>

        <ion-item *ngFor="let servicio of servicioProgramado" class="dense-item" button detail>

          <ion-icon slot="start" name="car-sport-outline" color="success" class="dense-icon"></ion-icon>

          <ion-label class="compact-label">
            <h3>
              {{ servicio.cliente?.nombres }} {{ servicio.cliente?.apellidos }}
            </h3>
            <p class="address-line">
              {{ servicio.domicilio?.calle }} #{{ servicio.domicilio?.numero }}
            </p>
            <p class="route-line">
              <ion-icon name="person-circle-outline"></ion-icon>
              Ruta: <strong class="text-dark">{{ servicio.ruta?.nombre || 'N/A' }}</strong>
            </p>
            <h3>
              Programado para el día <strong>
                {{ servicio.fecha_programado | date:"EEEE, dd 'de' MMMM
                'de' yyyy":'':'es-MX' }}
              </strong>
            </h3>
            <h3>Para la hora: <strong>{{ servicio.fecha_programado | date:"h:mm a":'':'es-MX' }}</strong></h3>
          </ion-label>
        </ion-item>
      </ion-list>


      <ion-list lines="full" class="dense-list" [hidden]="segmentoActual !== 'surtidos'">
        <ion-list-header *ngIf="servicioSurtido.length === 0" class="empty-list-header">
          <ion-label class="ion-text-center text-muted">No hay pedidos Surtidos.</ion-label>
        </ion-list-header>

        <ion-item *ngFor="let servicio of servicioSurtido" class="dense-item" button detail>

          <ion-icon slot="start" name="car-sport-outline" color="success" class="dense-icon"></ion-icon>

          <ion-label class="compact-label">
            <h3>
              {{ servicio.cliente?.nombres }} {{ servicio.cliente?.apellidos }}
            </h3>
            <p class="address-line">
              {{ servicio.domicilio?.calle }} #{{ servicio.domicilio?.numero }}
            </p>
            <p class="route-line">
              <ion-icon name="person-circle-outline"></ion-icon>
              Por la Ruta: <strong class="text-dark">{{ servicio.ruta?.nombre || 'N/A' }}</strong>
            </p>
            <h3>
              Surtido el día para el día <strong>
                {{ servicio.fecha_surtido| date:"EEEE, dd 'de' MMMM
                'de' yyyy":'':'es-MX' }}
              </strong>
            </h3>
            <h3>A la hora: <strong>{{ servicio.fecha_surtido | date:"h:mm a":'':'es-MX' }}</strong></h3>
          </ion-label>
        </ion-item>
      </ion-list>




















      <ion-modal [isOpen]="isModalServicioOpen" (willDismiss)="onWillDismiss($event)">
        <ng-template>
          <ion-header>
            <ion-toolbar color="primary" class="modal-toolbar">
              <ion-title class="ion-text-center titulo-modal">Servicio {{ servicioSeleccionado?.nota }}</ion-title>
              <ion-buttons slot="end">
                <ion-button fill="clear" class="btn-cerrar" (click)="setOpenServicio(false)">
                  <ion-icon slot="icon-only" name="close-outline"></ion-icon>
                </ion-button>
              </ion-buttons>
            </ion-toolbar>
          </ion-header>
          <ion-content class="ion-padding bg-modal" mode="ios">
            <div *ngIf="servicioSeleccionado">
              <ion-list-header color="light">
                <ion-label>Asignar Ruta</ion-label>
              </ion-list-header>

              <ion-list [inset]="true">
                <ion-item lines="full">
                  <ion-select label="Seleccionar Ruta" [(ngModel)]="ruta" label-placement="stacked"
                    placeholder="Elegir una ruta disponible">

                    <ion-select-option *ngFor="let ruta of rutas" [value]="ruta.documentId">
                      {{ ruta.nombre }} -- {{ ruta.personal.nombre }} {{ ruta.personal.apellidos }}
                    </ion-select-option>
                  </ion-select>
                </ion-item>

              </ion-list>
              <ion-button (click)="asignarRuta()" expand="block" class="btn-principal">
                Confirmar Asignación
                <ion-icon name="checkmark-circle-outline" slot="end"></ion-icon>
              </ion-button>

              <ion-list-header color="light">
                <ion-label>Detalles del Servicio</ion-label>
              </ion-list-header>
              <ion-list [inset]="true">
                <ion-item lines="full">
                  <ion-icon name="document-text-outline" slot="start" color="primary"></ion-icon>
                  <ion-label>
                    <h3>Nota del Servicio</h3>
                    <p class="ion-text-wrap">{{ servicioSeleccionado.nota || 'Sin notas' }}</p>
                  </ion-label>
                </ion-item>
                <ion-item lines="inset">
                  <ion-icon name="person-circle-outline" slot="start" color="primary"></ion-icon>
                  <ion-label>
                    <h3>Cliente</h3>
                    <p>
                      {{ servicioSeleccionado.cliente.nombres }}
                      {{ servicioSeleccionado.cliente.apellidos }}
                    </p>
                  </ion-label>
                </ion-item>

                <ion-item lines="inset">
                  <ion-icon name="map-outline" slot="start" color="primary"></ion-icon>
                  <ion-label>
                    <h3>Domicilio</h3>
                    <p>{{ servicioSeleccionado.domicilio.calle }} #{{ servicioSeleccionado.domicilio.numero }}</p>
                    <p>{{ servicioSeleccionado.domicilio.colonia }}, {{ servicioSeleccionado.domicilio.cp }}</p>
                  </ion-label>
                </ion-item>

                <ion-item lines="inset">
                  <ion-icon name="build-outline" slot="start" color="primary"></ion-icon>
                  <ion-label>
                    <h3>Tipo de Servicio</h3>
                    <p>{{ servicioSeleccionado.tipo_servicio?.nombre || 'No especificado' }}</p>
                  </ion-label>
                </ion-item>


                <ion-item lines="full">
                  <ion-icon name="document-text-outline" slot="start" color="primary"></ion-icon>
                  <ion-label>
                    <h3>Observaciones</h3>
                    <p class="ion-text-wrap">{{ servicioSeleccionado.observacion || 'Sin notas' }}</p>
                  </ion-label>
                </ion-item>
              </ion-list>
            </div>
          </ion-content>
        </ng-template>
      </ion-modal>


      <ion-modal [isOpen]="isModalProgramarOpen " (willDismiss)="onWillDismiss($event)">
        <ng-template>
          <ion-header>
            <ion-toolbar color="primary" class="modal-toolbar">
              <ion-title class="ion-text-center titulo-modal">Programar Servicio {{ servicioSeleccionado?.nota
                }}</ion-title>
              <ion-buttons slot="end">
                <ion-button fill="clear" class="btn-cerrar" (click)="setOpenProgramar(false)">
                  <ion-icon slot="icon-only" name="close-outline"></ion-icon>
                </ion-button>
              </ion-buttons>
            </ion-toolbar>
          </ion-header>
          <ion-content class="ion-padding bg-modal" mode="ios">
            <div *ngIf="servicioSeleccionado">
              <ion-list-header color="light">
                <ion-label>Asignar Ruta</ion-label>
              </ion-list-header>

              <ion-list [inset]="true">
                <ion-item lines="full">
                  <ion-select label="Seleccionar Ruta" [(ngModel)]="ruta" label-placement="stacked"
                    placeholder="Elegir una ruta disponible">

                    <ion-select-option *ngFor="let ruta of rutas" [value]="ruta.documentId">
                      {{ ruta.nombre }} -- {{ ruta.personal.nombre }} {{ ruta.personal.apellidos }}
                    </ion-select-option>
                  </ion-select>
                </ion-item>

              </ion-list>
              <ion-list-header color="light">
                <ion-label>Seleccionar Fecha</ion-label>
              </ion-list-header>
              <ion-list [inset]="true">
                <ion-item lines="full">
                  <ion-item class="custom-input-item mb-3" lines="none">

                    <!-- 1. Icono para claridad visual (UX) -->
                    <ion-icon slot="start" name="calendar-outline" color="medium"></ion-icon>

                    <ion-label position="floating">Fecha y Hora Programada</ion-label>

                    <ion-datetime-button datetime="datetime"></ion-datetime-button>

                  </ion-item>
                  <ion-modal [keepContentsMounted]="true">
                    <ng-template>
                      <ion-datetime [(ngModel)]="fecha_programado" id="datetime" presentation="date-time"
                        [showDefaultButtons]="true" doneText="Listo" cancelText="Cancelar"></ion-datetime>
                    </ng-template>
                  </ion-modal>
                </ion-item>

              </ion-list>
              <ion-button (click)="programarServicio()" expand="block" class="btn-principal">
                Programar
                <ion-icon name="checkmark-circle-outline" slot="end"></ion-icon>
              </ion-button>

              <ion-list-header color="light">
                <ion-label>Detalles del Servicio</ion-label>
              </ion-list-header>
              <ion-list [inset]="true">
                <ion-item lines="full">
                  <ion-icon name="document-text-outline" slot="start" color="primary"></ion-icon>
                  <ion-label>
                    <h3>Nota del Servicio</h3>
                    <p class="ion-text-wrap">{{ servicioSeleccionado.nota || 'Sin notas' }}</p>
                  </ion-label>
                </ion-item>
                <ion-item lines="inset">
                  <ion-icon name="person-circle-outline" slot="start" color="primary"></ion-icon>
                  <ion-label>
                    <h3>Cliente</h3>
                    <p>
                      {{ servicioSeleccionado.cliente.nombres }}
                      {{ servicioSeleccionado.cliente.apellidos }}
                    </p>
                  </ion-label>
                </ion-item>

                <ion-item lines="inset">
                  <ion-icon name="map-outline" slot="start" color="primary"></ion-icon>
                  <ion-label>
                    <h3>Domicilio</h3>
                    <p>{{ servicioSeleccionado.domicilio.calle }} #{{ servicioSeleccionado.domicilio.numero }}</p>
                    <p>{{ servicioSeleccionado.domicilio.colonia }}, {{ servicioSeleccionado.domicilio.cp }}</p>
                  </ion-label>
                </ion-item>

                <ion-item lines="inset">
                  <ion-icon name="build-outline" slot="start" color="primary"></ion-icon>
                  <ion-label>
                    <h3>Tipo de Servicio</h3>
                    <p>{{ servicioSeleccionado.tipo_servicio?.nombre || 'No especificado' }}</p>
                  </ion-label>
                </ion-item>


                <ion-item lines="full">
                  <ion-icon name="document-text-outline" slot="start" color="primary"></ion-icon>
                  <ion-label>
                    <h3>Observaciones</h3>
                    <p class="ion-text-wrap">{{ servicioSeleccionado.observacion || 'Sin notas' }}</p>
                  </ion-label>
                </ion-item>
              </ion-list>
            </div>
          </ion-content>
        </ng-template>
      </ion-modal>

    </div>
  </div>
</ion-content>
